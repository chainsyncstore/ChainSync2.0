# ========================================
# DATABASE CONFIGURATION
# ========================================
DATABASE_URL="postgresql://username:password@localhost:5432/chainsync"
# Optional in local dev; required in production per `shared/env.ts`
REDIS_URL="redis://localhost:6379/0"

# ========================================
# JWT & SESSION SECURITY
# ========================================
JWT_SECRET="your-super-secret-jwt-key-here-change-this-in-production"
SESSION_SECRET="your-session-secret-key-change-this-in-production"

# ========================================
# EMAIL CONFIGURATION (SMTP)
# ========================================
SMTP_HOST="smtp.mailersend.net"
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER="your-mailersend-username"
SMTP_PASS="your-mailersend-api-key"
SMTP_FROM="noreply@chainsync.com"
FRONTEND_URL="http://localhost:5173"
# Server base URL; also used as BASE_URL if BASE_URL not set
APP_URL="http://localhost:5000"
BASE_URL="http://localhost:5000"

# ========================================
# PAYMENT GATEWAY CONFIGURATION
# ========================================
PAYSTACK_SECRET_KEY="sk_test_your_paystack_secret_key_here"
PAYSTACK_PUBLIC_KEY="pk_test_your_paystack_public_key_here"
FLUTTERWAVE_SECRET_KEY="FLWSECK_TEST_your_flutterwave_secret_key_here"
FLUTTERWAVE_PUBLIC_KEY="FLWPUBK_TEST_your_flutterwave_public_key_here"
WEBHOOK_SECRET_PAYSTACK="your_paystack_webhook_secret"
WEBHOOK_SECRET_FLW="your_flutterwave_webhook_secret"

# ========================================
# APPLICATION CONFIGURATION
# ========================================
BASE_URL="http://localhost:3000"
NODE_ENV="development"
PORT=5000

# ========================================
# CORS & SECURITY CONFIGURATION
# ========================================
ALLOWED_ORIGINS="http://localhost:5173,http://localhost:3000,http://localhost:5000"
# CSV of allowed origins; for dev ensure UI+API hosts are listed
CORS_ORIGINS="http://localhost:5173,http://localhost:3000,http://localhost:5000"
# In production, set ALLOWED_ORIGINS to your exact frontend origins, e.g.
# ALLOWED_ORIGINS="https://chainsync.store,https://www.chainsync.store"
PRODUCTION_DOMAIN="https://chainsync.store"
PRODUCTION_WWW_DOMAIN="https://www.chainsync.store"
# Cookie domain for production (must match your public domain). Example: .chainsync.store
COOKIE_DOMAIN=".chainsync.store"

# ========================================
# RATE LIMITING & VERIFICATION
# ========================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
VERIFICATION_LOCKOUT_THRESHOLD=5
VERIFICATION_LOCKOUT_DURATION_MS=900000

# ========================================
# MAINTENANCE JOBS
# ========================================
# Enable/disable daily cleanup of abandoned signups (default: enabled)
CLEANUP_ABANDONED_SIGNUPS=true
# Hour (UTC) to run the cleanup each day (default: 3)
CLEANUP_ABANDONED_SIGNUPS_HOUR_UTC=3

# ========================================
# CAPTCHA CONFIGURATION
# ========================================
# reCAPTCHA v3 (Google)
VITE_RECAPTCHA_SITE_KEY="6Lc_your_recaptcha_site_key_here"
VITE_REQUIRE_EMAIL_VERIFICATION="true"
RECAPTCHA_SECRET_KEY="your_recaptcha_secret_key_here"
RECAPTCHA_MIN_SCORE="0.5"
ALLOW_INSECURE_PAYMENT_NO_CAPTCHA=false

# hCaptcha (Alternative)
VITE_HCAPTCHA_SITE_KEY="your_hcaptcha_site_key_here"
HCAPTCHA_SECRET_KEY="your_hcaptcha_secret_key_here"

# ========================================
# AI & OPENAI CONFIGURATION
# ========================================
OPENAI_API_KEY="sk-your_openai_api_key_here"
OPENAI_ORGANIZATION="org-your_openai_org_id_here"

# ========================================
# ADVANCED FEATURES CONFIGURATION
# ========================================
# WebSocket Notifications
WS_ENABLED=true
WS_PATH="/ws/notifications"

# AI Analytics
AI_ANALYTICS_ENABLED=true
AI_MODEL_CACHE_TTL=3600

# Offline Sync
OFFLINE_SYNC_ENABLED=true
OFFLINE_SYNC_INTERVAL=30000
ENABLE_OFFLINE_POS=true

# ========================================
# MONITORING & LOGGING
# ========================================
LOG_LEVEL="info"
SENTRY_DSN="https://your_sentry_dsn_here"
ALERT_THRESHOLD_SIGNUP_ATTEMPTS_PER_MINUTE=100
ALERT_THRESHOLD_DUPLICATE_SIGNUPS_PER_MINUTE=10
ALERT_THRESHOLD_CAPTCHA_FAILURES_PER_MINUTE=20
ALERT_THRESHOLD_CSRF_FAILURES_PER_MINUTE=10
ALERT_THRESHOLD_DB_TIMEOUTS_PER_MINUTE=5

# ========================================
# TESTING CONFIGURATION (Optional)
# ========================================
# TEST_SERVER_URL="http://localhost:5001"
# START_SERVER="true"
# USE_REAL_DB="false"